<!DOCTYPE html>

<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Chaos</title>
  <link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAhUlEQVQ4EZ2SgQrAIAhEdez/f9klTLnsZqNAsu7uVWMqIjbqeFzHyTfYAsxMvLrRArpgaDqa5YjdqRlWleUGLKzD6IUj1gnA94aIAe/ZfgKYWAEMkoAw/wGhZwEECGf2XUKfAEgOw26eADsz0ymAXZntOfBG6pcJPbWnf2I1dWv6hC5QtQfK4CEgAQxPAAAAAABJRU5ErkJggg==" />
  <script src="lib.js" type="text/javascript" charset="utf-8"></script>
  <script src="chaos.js" type="text/javascript" charset="utf-8"></script>
  <style type="text/css" media="screen">
  body {
    background-color: black;
    margin: 0;
  }
  
  #canvas_frame, #output {
    width: 512px;
    height: 384px;
  }
  
  #canvas_frame {
    margin: 16px auto;
  }
  </style>
</head>
<body>
  <div id='canvas_frame'>
    <canvas id='output' width="512" height="384"></canvas>
  </div>
  <script type="text/javascript">
function draw_sprite(sprite, x, y) {
  $('output').getContext('2d').drawImage(sprite, 16 + x * 32, 16 + y * 32);
}

function draw_text(text) {
  $('output').getContext('2d').drawImage(ChaosLibrary.text(text, 13, 0), 0, 352);
}

function draw_border(ink, paper) {
  $('output').getContext('2d').drawImage(ChaosLibrary.border(512, 352, ink, paper), 0, 0);
}

ChaosLibrary.fetch(function (obj) {
  draw_text('Animation Test');
  draw_border(9, 0);
  draw_sprite(ChaosLibrary.object(2).corpse, 0, 0);
  draw_sprite(ChaosLibrary.cursor('box', 13), 0, 0);
  draw_sprite(ChaosLibrary.wizard(0, 10), 1, 1);
  draw_sprite(ChaosLibrary.weapon("magic_sword", 15)[0], 9, 4);
  draw_sprite(ChaosLibrary.rainbow_wizard(3)[0], 9, 4);
  draw_sprite(ChaosLibrary.rainbow_object(2)[6][1], 8, 4);
  draw_sprite(ChaosLibrary.rainbow_object(2)[6][0], 7, 4);
}, function (status) {
  console.log(status);
});
  </script>
</body>
</html>
