<!DOCTYPE html>

<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Chaos</title>
  <link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAhUlEQVQ4EZ2SgQrAIAhEdez/f9klTLnsZqNAsu7uVWMqIjbqeFzHyTfYAsxMvLrRArpgaDqa5YjdqRlWleUGLKzD6IUj1gnA94aIAe/ZfgKYWAEMkoAw/wGhZwEECGf2XUKfAEgOw26eADsz0ymAXZntOfBG6pcJPbWnf2I1dWv6hC5QtQfK4CEgAQxPAAAAAABJRU5ErkJggg==" />
  <script src="js/globals.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/ajax.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/canvas.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/prototypes.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/storage.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/wizard.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/world.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/info.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/spelldisplay.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/board.js" type="text/javascript" charset="utf-8"></script>
  <link rel="stylesheet" href="css/chaos.css" type="text/css" media="screen">
</head>
<body>
  <div id='centered_container'>
    <div id='left_column'>
      <canvas id='info' width='256' height='384'></canvas>
    </div>
    <div id='middle_column'>
      <canvas id='board' width='512' height='384'></canvas>
    </div>
    <div id='right_column'>
      <canvas id='spell_display' width='256' height='384'></canvas>
    </div>
  </div>
  <script type="text/javascript">
/*jslint white: true, onevar: true, undef: true, newcap: true, nomen: true, regexp: true, plusplus: true, bitwise: true, browser: true, devel: true, maxerr: 50, indent: 2 */
/*global Ajax: true, Board: true, Canvas: true, Info: true, RGB: true, SpellDisplay: true, Storage: true, Wizard: true, World: true, firefox: true*/
function start() {
  var info_scale = 1, board_scale = 2, spell_display_scale = 1;
  Board.init($('board'), board_scale);
  Info.init($('info'), info_scale);
  SpellDisplay.init($('spell_display'), spell_display_scale);
  Board.draw_arena();
  Wizard.create('Julian', 0, 0, 15);
  Wizard.create('Gandalf', 0, 2, 14);
  // Wizard.shadow_form(0);
  SpellDisplay.use_wizard(0);
  setTimeout(function () {
    Board.wizard_death(1, 4, function () {
      World.remove_wizard(1, 4);
    });
  }, 2000);
  // setTimeout(function () {
  //   Board.spell_beam(1, 4, 2, 5, function () {
  //     Board.twirl_effect(2, 5, function () {
  //       World.add_object(Storage.create_object(2, 0, Board.get_scale()), 2, 5);
  //     });
  //   });
  // }, 2000);
}

Storage.init(function (obj) {
  $('board').getContext('2d').drawImage(Storage.loading_screen(2), 0, 0);
  setTimeout(start, 0);
}, function (status) {
  alert('Could not obtain resource file: (' + status + ')');
});
  </script>
</body>
</html>
